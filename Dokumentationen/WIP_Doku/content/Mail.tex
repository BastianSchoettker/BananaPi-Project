\section{Mail-Server}
Um Statusbenachrichtigungen zu erhalten, wurde ein Mail-Server auf dem Pi eingerichtet, welcher als Relay über Google Mail fungiert. Dazu wurde ein Google Mail Konto eingerichtet, auf welches Post Fix zugreift und Mails verschickt.\\
Alle System Mails werden Über das Google-Konto weitergeleitet, dazu gehören auch Statusmeldungen des Backup-Skripts.\\
Dieser Weg wurde wegen des geringen Aufwands gewählt. Ohne Relay würde man eine eigene Domain und sehr viel mehr Konfiguration benötigen. Da ein Google Mail Konto nie verfällt, war dies die beste und pflegeleichteste Möglichkeit.\\
Weiterhin können die Mails auch an jede beliebige Adresse verschickt werden, dies ist im Mail-Server frei konfigurierbar. Die Mails gehen momentan an die Google Mail Adresse.\\
~\\
Einrichtung:\\
Voraussetzungen:\\
- Internetzugriff\\
- Google Mail-Konto\\
- Texteditor (Nano)\\
- SSH/Physikalischen Zugriff\\
~\\
1. Post Fix installieren:
\begin{lstlisting}
apt-get update
apt-get install postfix libsasl2-modules bsd-mailx
\end{lstlisting}
~\\
2. Das Konfigurationsfenster öffnet sich.\\
~\\
3. TLS/SSL aktivieren:
\begin{lstlisting}
nano /etc/postfix/main.cf
\end{lstlisting}
~\\
3.1 Folgendes Einfügen:
\begin{lstlisting}
mtp_sasl_auth_enable = yes
smtp_sasl_security_options = noanonymous
smtp_sasl_password_maps = hash:/etc/postfix/sasl_password
# verschluesselung einschalten
smtp_tls_security_level = may
\end{lstlisting}
~\\
4. Nutzerdaten des Google Mail-Kontos hinterlegen:
\begin{lstlisting}
nano /etc/postfix/sasl_password
smtp.gmail.com Bananapihfu:<Password>
\end{lstlisting}
~\\
5. Datei nur für root lesbar machen, da Klartext:
\begin{lstlisting}
chmod 600 /etc/postfix/sasl_password 
\end{lstlisting}
~\\
6. Postfix lookup Tabelle erstellen:
\begin{lstlisting}
postmap hash:/etc/postfix/sasl_password
\end{lstlisting}
~\\
7. Postfix neustarten:
\begin{lstlisting}
/etc/init.d/postfix restart
\end{lstlisting}
~\\
8. Für Weiterleitung der Systemnachrichten aliases bearbeiten:
\begin{lstlisting}
nano /etc/aliases 
root: bananapihfu@gmail.com
\end{lstlisting}
Oder Wunschemail an welche Systemnachrichten gesendet werden\\
~\\
9. Änderungen an Aliases wirksam machen:
\begin{lstlisting}
Newaliases
\end{lstlisting}
~\\Quelle: http://my5cent.spdns.de/allgemein/banana-pi-postfix-installieren... \cite{postfix}



